<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>E-commerce de Ropa</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="/css/style.css" rel="stylesheet" />
</head>
<body>
<script>
  const usuarioActivo = localStorage.getItem("usuarioActivo");
  // Se fija si no hay una sesion activa, te manda a que te loguees
  if (!usuarioActivo) {
    window.location.href = "login.html";
  }
</script>

<header class="container-fluid d-flex align-items-center justify-content-between py-2">
  <img src="/content/logo.jpg" alt="Logo de la marca" style="height: 50px;" />
  <div>
    <button
      class="btn btn-light me-2"
      type="button"
      data-bs-toggle="offcanvas"
      data-bs-target="#carritoCanvas"
    >
      ðŸ›’ Ver Carrito
    </button>
    <button class="btn btn-outline-danger" onclick="cerrarSesion()">
      Cerrar sesiÃ³n
    </button>
  </div>
</header>

<main class="container-fluid my-4">
  <h2 class="mb-4 text-center">SHOP</h2>
  <div class="row">
    <aside class="col-lg-2 col-md-3 mb-4">
      <input
        type="text"
        id="buscador"
        class="form-control mb-3"
        placeholder="Buscar productos..."
      />
      <h5>Filtrar por precio</h5>
      <input type="range" class="form-range" min="4000" max="8000" id="filtroPrecio" value="8000"/>
      <span id="valorFiltro">Hasta $8000</span>
    </aside>
    <div class="col-lg-10 col-md-9">
      <div id="lista-productos" class="row g-4"></div>
    </div>
  </div>
</main>

<!-- Alerta de compra exitosa -->
<div
  id="alertaCompra"
  class="alert alert-success text-center d-none"
  role="alert"
>
  Â¡Gracias por tu compra!
</div>

<!-- Carrito -->
<div
  class="offcanvas offcanvas-end filtro"
  tabindex="-1"
  id="carritoCanvas"
  aria-labelledby="carritoCanvasLabel"
>
  <div class="offcanvas-header">
    <h2 class="offcanvas-title h5" id="carritoCanvasLabel">Carrito</h2>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Cerrar"
    ></button>
  </div>
  <div class="offcanvas-body carrito">
    <ul id="items-carrito" class="list-unstyled"></ul>
    <p class="mt-2">
      <strong>Total:</strong> $<span id="total">0</span>
    </p>
    <button class="btn btn-sm btn-danger mt-2" onclick="vaciarCarrito()">
      Vaciar carrito
    </button>
    <button class="btn btn-sm btn-success mt-2" onclick="finalizarCompra()">
      Finalizar compra
    </button>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/login.js"></script>
<script src="/Js/script.js"></script>

</body>

</html>
